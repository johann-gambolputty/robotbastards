<?xml version="1.0" encoding="UTF-8"?>
<rb>

	<!--	TODO: This is defined before models, because the XmlLoader loads modelSets in definition order. -->
	<modelSet name="effects">
		<resource path="test1.cgfx" name="Test1"/>
		<resource path="md3Effect.cgfx" name="MD3Effect"/>
	</modelSet>

	<modelSet name="models">
		<resource path="sarge" name="sarge">
			<reference modelPath="effects/MD3Effect" property="Effect"/>
			<string value="MainTechnique" property="SelectedTechniqueName"/>
		</resource>
	</modelSet>

	<object type="RbEngine.Network.ServerProxy" name="server0">
	    <object type="RbEngine.Scene.SceneDb" property="Scene">

			<object type="RbEngine.Components.Component" property="Systems">
				<object type="RbEngine.Scene.LightingManager"/>
			</object>

			<!-- Scene clocks -->
			<!-- TODO: This should be a default clock, because it's referenced directly in the controller and command update code -->
			<clock name="updateClock" ticksPerSecond="20"/>

			<!-- Test scenery :) -->
			<object type="RbEngine.Components.Simple.GroundPlane"/>


			<!-- Entities -->
			<object type="RbEngine.Entities.Entity3">

				<Point3 x="20" y="0.5" z="0" property="NextPosition"/>
				<instance modelPath="models/sarge" property="Graphics" alwaysAddAsChild="true"/>

				<object type="RbEngine.Scene.LightingData"/>

				<object type="RbEngine.Entities.TestUserEntityController">
				</object>

			</object>


			<!-- Lights -->
			<object type="RbEngine.Entities.Entity3">

				<Point3 x="12" y="40" z="30" property="NextPosition"/>

				<object type="RbEngine.Rendering.SpotLight">
					<Point3 x="12" y="40" z="30" property="Position"/>
					<Vector3 x="12" y="40" z="30" property="Direction"/>
					<float value="90" property="ArcDegrees"/>
				</object>

<!--
				<object type="RbEngine.Rendering.EffectRenderedObject" property="Graphics">
					<resource path="light.cgfx" property="Effect"/>
					<resource path="sphere.dae" property="RenderedObject"/>
				</object>
-->

			</object>

			<!-- Environment -->
			<object type="RbEngine.Rendering.EffectRenderedObject">

				<reference modelPath="effects/Test1" property="Effect"/>
				<string value="PlainVanilla" property="SelectedTechniqueName"/>
				<resource path="simpleEnvironment.dae" property="RenderedObject"/>

			</object>
  
		</object>
	</object>

</rb>
